<p id="notice"><%= notice %></p>
<div class="container">

  <h1 class="product-title">Watches</h1>

  <table>
    <thead>
      <tr>
        <th>Name of Product</th>
        <th>Description</th>
        <th>Price in cents</th>
        <th colspan="3"></th>
      </tr>
    </thead>


    <tbody>
      <% @products.each do |product| %>
        <tr>
          <td><%if product.picture.present? %>
            <%= image_tag(product.picture, :style => "height: 50px ;width: 50px") %>
            <% end %>
          </td>
          <td><%= product.name %></td>
          <td><%= product.description %></td>
          <td><%= product.price_in_cents %></td>
          <td class="waves-effect waves-light btn"><%= link_to 'Product Description', product %></td>
          <!--<td><%= link_to 'Edit', edit_product_path(product) %></td>
          <td><%= link_to 'Destroy', product, method: :delete, data: { confirm: 'Are you sure?' } %></td> -->
          <td>
          <%= form_tag carts_path(product_id:product.id) do %>
            <%= submit_tag "Add to Cart" %>
          <% end %>
          </td>

          <td>
            <%= form_tag charges_path do %>
              <article>
                <% if flash[:error].present? %>
                  <div id="error_explanation">
                    <p><%= flash[:error] %></p>
                  </div>
                <% end %>
                <label class="amount">
                  <span>Amount: $99.00</span>
                </label>
              </article>

              <script src="https://checkout.stripe.com/checkout.js" class="stripe-button"
                      data-key="<%= Rails.configuration.stripe[:publishable_key] %>"
                      data-description="A month's subscription"
                      data-amount="500"
                      data-locale="auto"></script>
            <% end %>
          </td>

        </tr>
      <% end %>
    </tbody>
  </table>

  <br>
</div>

<!-- <%= link_to 'New Product', new_product_path %> -->
